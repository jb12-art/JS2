<!-- All posts page -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>All posts page</title>
    <link rel="stylesheet" href="./css/style.css" />
    <link rel="stylesheet" href="./css/custom-styles.css" />
    <link rel="icon" href="#" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <!-- font awesome link -->
    <script
      src="https://kit.fontawesome.com/f96e83bcf8.js"
      crossorigin="anonymous"
    ></script>

    <!-- Load shared API and utilities first/ api folder -->
    <script type="module" src="./js/api/auth.js" defer></script>
    <script type="module" src="./js/api/posts.js" defer></script>
    <script type="module" src="./js/api/storage.js" defer></script>

    <!-- Then load page-specific logic/ index.js -->
    <script type="module" src="./js/pages/index.js" defer></script>
  </head>

  <body class="min-h-screen">
    <div class="page-wrapper flex flex-col min-h-screen">
      <header class="h-30 text-center content-center">
        <h1>Social media platform</h1>
      </header>

      <main class="grow">
        <!-- Auth register/ login buttons -->
        <div class="flex justify-evenly">
          <section
            class="flex flex-col gap-3 border-2 border-dotted rounded-md p-3 max-w-fit"
          >
            <h2 class="text-lg font-semibold">Register or Login</h2>
            <div class="flex justify-between gap-2 max-w-165px">
              <a href="account/register.html" target="_blank">
                <button
                  class="px-4 py-2 text-sm rounded bg-sky-300 hover:bg-sky-400"
                >
                  Register
                </button>
              </a>
              <a href="account/login.html" target="_blank">
                <button
                  class="px-4 py-2 text-sm rounded bg-emerald-200 hover:bg-emerald-300"
                >
                  Login
                </button>
              </a>
            </div>
          </section>

          <!-- Your profile button -->
          <section
            class="flex flex-col gap-3 border-2 border-dotted rounded-md p-3 max-w-fit"
          >
            <h2 class="text-lg font-semibold">See profile</h2>

            <a
              href="user-profile.html"
              target="_blank"
              rel="noopener noreferrer"
              class="inline-block px-4 py-2 text-sm rounded bg-fuchsia-300 hover:bg-fuchsia-400"
            >
              Your Profile
            </a>
          </section>
        </div>

        <!-- Form to create a new post -->
        <div
          class="flex flex-col items-center border-b border-black pb-8 mb-12"
        >
          <h2 class="text-xl font-semibold mb-4">Create a new post</h2>
          <form id="createPostForm" class="new-post">
            <input
              class="input-height"
              type="text"
              id="postTitle"
              placeholder="Post title"
              aria-label="Title of your post"
              required
            />
            <textarea
              class="new-post-text-input"
              id="postBody"
              placeholder="Write something..."
              aria-label="Add Body text to your post"
              required
            ></textarea>
            <input
              class="input-height"
              type="url"
              id="postImage"
              placeholder="Image URL (optional)"
              aria-label="Add Image to your post"
            />
            <button class="new-post-btn" type="submit">Post</button>
          </form>
        </div>

        <!-- Search Posts -->
        <h3 class="search-posts-title">Search posts by title or content</h3>
        <input
          type="search"
          id="searchInput"
          placeholder="Search for posts"
          aria-label="Search for posts"
          class="search-posts"
        />

        <!-- All feed posts list -->
        <section class="feed-section">
          <h2 class="latest-posts">Latests Posts</h2>
          <div class="media-box"></div>
        </section>

        <!-- load more posts on page -->
        <div id="posts"></div>
        <button id="load-more">Load more</button>
      </main>

      <footer class="h-25 text-center content-center">
        <p>&copy; 2025 Social Media Platform</p>
      </footer>
    </div>
  </body>
</html>
